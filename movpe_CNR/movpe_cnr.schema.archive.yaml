definitions:
  name: 'MOVPE Experiment (IMEM-CNR)'
  sections:
    MovpeExperiment:
      base_sections:
       - nomad.datamodel.metainfo.basesections.Experiment
       - nomad.datamodel.data.EntryData
       - nomad.parsing.tabular.TableData
      m_annotations:
        eln:
          hide: ['end_time', 'lab_id', 'location']
      quantities:
        data_file:
          type: str
          description: |
            A reference to an uploaded .xlsx
          m_annotations:
            tabular_parser:
              parsing_options:
                comment: '#'
              mapping_options:
              - mapping_mode: row
                file_mode: single_new_entry
                sections:
                - pregrowth/steps
              - mapping_mode: row
                file_mode: single_new_entry
                sections:
                - growth_run/steps
                - growth_run/grown_samples
              - mapping_mode: row
                file_mode: multiple_new_entries
                sections:
                - precursors
                - substrates
                - mist
                - samples_cut
                - SEM
                - contacts_sputtering
                - AFM
                - reflectance
                - UVabsorbance
                - hall
                - HRXRD
            browser:
              adaptor: RawFileAdaptor
            eln:
              component: FileEditQuantity
        description:
          type: str
          description: "Notes and comments."
          m_annotations:
            eln:
              component: StringEditQuantity
              label: "Notes"
        method:
          type: str
          default: "Experiment (MOVPE CNR)"
        location:
          type: str
          m_annotations:
            eln:
              component: StringEditQuantity
        goal:
          type: str
          description: indicate here the goal aimed with this experiment
          m_annotations:
            eln:
              component: StringEditQuantity
        date:
          type: Datetime
          shape: [1]
          description: FILL
          m_annotations:
            tabular:
              name: Overview/Date
            eln:
              component: DateTimeEditQuantity
        operator:
          type: str
          shape: [1]
          description: FILL
          m_annotations:
            tabular:
              name: Overview/Operator
            eln:
              component: StringEditQuantity
        film:
          type: str
          shape: [1]
          description: Film material (Material:Dopant species)
          m_annotations:
            tabular:
              name: Overview/Film
            eln:
              component: StringEditQuantity
        substrate_name:
          type: str
          shape: [1]
          description: Substrates placed into the reactor for film growth
          m_annotations:
            tabular:
              name: Overview/Substrate
            eln:
              component: StringEditQuantity
        carrier_gas:
          type: str
          shape: [1]
          m_annotations:
            tabular:
              name: Overview/Carrier Gas
            eln:
              component: StringEditQuantity
        VI_III_ratio:
          type: str
          shape: [1]
          description: FILL THE DESCRIPTION
          m_annotations:
            tabular:
              name: Overview/VI III Ratio
            eln:
              component: StringEditQuantity
        growth_time:
          type: np.float64
          shape: [1]
          unit: minute
          description: FILL THE DESCRIPTION
          m_annotations:
            tabular:
              name: Overview/Growth Time
            eln:
              component: NumberEditQuantity
              defaultDisplayUnit: minute
        notes:
          type: str
          shape: [1]
          description: FILL THE DESCRIPTION
          m_annotations:
            tabular:
              name: Overview/Notes
            eln:
              component: StringEditQuantity
      sub_sections:
        precursors:
          repeats: true
          section: '#/Precursors'
        substrates:
          repeats: true
          section: '#/Substrate'
        mist:
          repeats: true
          section: '#/MISTs'
        pregrowth:
          section: '#/PreGrowths'
        growth_run:
          section: '#/GrowthRuns'
        samples_cut:
          repeats: true
          section:
            quantities:
              process:
                type: '#/SampleCut'
                m_annotations:
                  eln:
                    component: ReferenceEditQuantity
        contacts_sputtering:
          repeats: true
          section:
            quantities:
              process:
                type: '#/ContactSputtering'
                m_annotations:
                  eln:
                    component: ReferenceEditQuantity
        SEM:
          repeats: true
          section:
            quantities:
              measurement:
                type: '#/SEMmeasurement'
                m_annotations:
                  eln:
                    component: ReferenceEditQuantity
        AFM:
          repeats: true
          section:
            quantities:
              measurement:
                type: '#/AFMmeasurement'
                m_annotations:
                  eln:
                    component: ReferenceEditQuantity
        reflectance:
          repeats: true
          section:
            quantities:
              measurement:
                type: '#/ReflectanceMeasurement'
                m_annotations:
                  eln:
                    component: ReferenceEditQuantity
        UVabsorbance:
          repeats: true
          section:
            quantities:
              measurement:
                type: '#/UVAbsorbanceMeasurement'
                m_annotations:
                  eln:
                    component: ReferenceEditQuantity
        hall:
          repeats: true
          section:
            quantities:
              measurement:
                type: '#/HallMeasurement'
                m_annotations:
                  eln:
                    component: ReferenceEditQuantity
        HRXRD:
          repeats: true
          section:
            quantities:
              measurement:
                type: '#/HRXRDmeasurement'
                m_annotations:
                  eln:
                    component: ReferenceEditQuantity
    GrowthRun:
      base_sections:
      - nomad.datamodel.metainfo.eln.Process
      - nomad.datamodel.data.EntryData
      m_annotations:
        eln:
          hide: ['samples']
      quantities:
        method:
          type: str
          default: "Growth (MOVPE IKZ)"
        description:
          type: str
          description: description
          m_annotations:
            eln:
              component: StringEditQuantity
        # lab_id:
        #   type: str
        #   description: the ID from RTG
        #   m_annotations:
        #     tabular:
        #       name: GrowthRun/Recipe Name
        #     eln:
        #       component: StringEditQuantity
        #       label: "Growth ID"
      sub_sections:
        grown_samples:
          repeats: true
          section: '#/GrownSamples'
        substrates:
          repeats: true
          section: '#/Substrates'
        steps:
          repeats: true
          section: '#/GrowthRunStep'
    GrowthRuns:
      base_sections:
      - nomad.datamodel.metainfo.basesections.SectionReference
      quantities:
        reference:
          type: '#/GrowthRun'
          description: 'A reference to a NOMAD `GrowthRun` entry.'
          m_annotations:
            eln:
              component: ReferenceEditQuantity
              label: 'GrowthRun Reference'
    GrownSample:
      base_sections:
      - nomad.datamodel.metainfo.eln.CompositeSystem
      - nomad.datamodel.data.EntryData
      quantities:
        test_quantity:
          type: str
          description: test
          m_annotations:
            eln:
              component: StringEditQuantity
    GrownSamples:
      base_sections:
      - nomad.datamodel.metainfo.basesections.CompositeSystemReference
      quantities:
        lab_id:
          type: str
          description: the ID from RTG
          m_annotations:
            tabular:
              name: "Overview/Sample"
            eln:
              component: StringEditQuantity
              label: "Grown Sample ID"
        reference:
          type: '#/GrownSample'
          description: 'A reference to a NOMAD `GrownSamples` entry.'
          m_annotations:
            eln:
              component: ReferenceEditQuantity
              label: 'Grown Sample Reference'
    Precursors:
      base_sections:
      - nomad.datamodel.metainfo.basesections.CompositeSystemReference
      quantities:
        reference:
          type: '#/Precursor'
          description: 'A reference to a NOMAD `Precursor` entry.'
          m_annotations:
            eln:
              component: ReferenceEditQuantity
              label: 'Precursor Reference'
    Precursor:
      base_sections:
      - nomad.datamodel.metainfo.eln.Substance
      - nomad.datamodel.data.EntryData
      quantities:
        name:
          type: str
          description: FILL
          m_annotations:
            tabular:
              name: Precursors/Name
            eln:
              component: StringEditQuantity
              label: Substance Name
        cas_number:
          type: str
          description: FILL
          m_annotations:
            tabular:
              name: Precursors/CAS
            eln:
              component: StringEditQuantity
              label: CAS number
    SEMmeasurement:
      more:
        label_quantity: sample_id
      base_sections:
      - nomad.datamodel.metainfo.eln.Measurement
      - nomad.datamodel.data.EntryData
      m_annotations:
        eln:
      quantities:
        method:
          type: str
          default: "SEM (MOVPE CNR)"
        description:
          type: str
          description: "Notes and comments."
          m_annotations:
            eln:
              component: StringEditQuantity
              label: "Notes"
        image:
          type: str
          shape: ['*']
          description: image from SEM measurement
          m_annotations:
            browser:
              adaptor: RawFileAdaptor
            eln:
              component: FileEditQuantity
        sample_id:
          type: str
          m_annotations:
            tabular:
              name: AFMReflectanceSEM/Sample
            eln:
              component: StringEditQuantity
        datetime:
          type: Datetime
          m_annotations:
            tabular:
              name: AFMReflectanceSEM/Date
            eln:
              component: DateTimeEditQuantity
        surface_state:
          type: str
          m_annotations:
            tabular:
              name: AFMReflectanceSEM/Surface State
            eln:
              component: StringEditQuantity
    AFMmeasurement:
      more:
        label_quantity: sample_id
      base_sections:
      - nomad.datamodel.metainfo.eln.Measurement
      - nomad.datamodel.data.EntryData
      m_annotations:
        eln:
      quantities:
        method:
          type: str
          default: "AFM (MOVPE CNR)"
        description:
          type: str
          description: "Notes and comments."
          default: '#data/SEM/description'
          m_annotations:
            eln:
              component: StringEditQuantity
              label: "Notes"
        image:
          type: str
          shape: ['*']
          description: image from AFM measurement
          m_annotations:
            browser:
              adaptor: RawFileAdaptor
            eln:
              component: FileEditQuantity
        sample_id:
          type: str
          default: '#data/SEM/sample_id'
          m_annotations:
            tabular:
              name: AFMReflectanceSEM/Sample
            eln:
              component: StringEditQuantity
        datetime:
          type: Datetime
          default: '#data/SEM/datetime'
          m_annotations:
            tabular:
              name: AFMReflectanceSEM/Date
            eln:
              component: DateTimeEditQuantity
        roughness:
          type: np.float64
          unit: nanometer
          description: RMS roughness value obtained by AFM
          m_annotations:
            tabular:
              name: AFMReflectanceSEM/Roughness
            eln:
              component: NumberEditQuantity
              defaultDisplayUnit: nanometer
        surface_features:
          type: str
          m_annotations:
            tabular:
              name: AFMReflectanceSEM/Surface Features
            eln:
              component: StringEditQuantity
    ReflectanceMeasurement:
      more:
        label_quantity: sample_id
      base_sections:
      - nomad.datamodel.metainfo.eln.Measurement
      - nomad.datamodel.data.EntryData
      m_annotations:
        eln:
      quantities:
        method:
          type: str
          default: "Reflectance (MOVPE CNR)"
        description:
          type: str
          default: '#data/SEM/description'
          description: "Notes and comments."
          m_annotations:
            tabular:
              name: AFMReflectanceSEM/Notes
            eln:
              component: StringEditQuantity
              label: "Notes"
        image:
          type: str
          shape: ['*']
          description: image showing the thickness measurement points
          m_annotations:
            browser:
              adaptor: RawFileAdaptor
            eln:
              component: FileEditQuantity
        sample_id:
          type: str
          default: '#data/SEM/sample_id'
          m_annotations:
            tabular:
              name: AFMReflectanceSEM/Sample
            eln:
              component: StringEditQuantity
        datetime:
          type: Datetime
          default: '#data/SEM/datetime'
          m_annotations:
            tabular:
              name: AFMReflectanceSEM/Date
            eln:
              component: DateTimeEditQuantity
        thickness:
          type: np.float64
          unit: nanometer
          description: Thickness from Reflectance
          m_annotations:
            tabular:
              name: AFMReflectanceSEM/Thickness
            eln:
              component: NumberEditQuantity
              defaultDisplayUnit: nanometer
        growth_rate:
          type: np.float64
          unit: nanometer / minute
          description: Growth rate calculated
          m_annotations:
            tabular:
              name: AFMReflectanceSEM/Growth Rate
            eln:
              component: NumberEditQuantity
              defaultDisplayUnit: nanometer / minute
    UVAbsorbanceMeasurement:
      more:
        label_quantity: sample_id
      base_sections:
      - nomad.datamodel.metainfo.eln.Measurement
      - nomad.datamodel.data.EntryData
      m_annotations:
        eln:
      quantities:
        method:
          type: str
          default: "Absorbance (MOVPE CNR)"
        description:
          type: str
          description: "Notes and comments."
          m_annotations:
            eln:
              component: StringEditQuantity
              label: "Notes"
        image:
          type: str
          shape: ['*']
          description: image from optical microscopy
          m_annotations:
            browser:
              adaptor: RawFileAdaptor
            eln:
              component: FileEditQuantity
        sample_id:
          type: str
          m_annotations:
            tabular:
              name: ElectroOptical/Sample
            eln:
              component: StringEditQuantity
        datetime:
          type: Datetime
          m_annotations:
            tabular:
              name: ElectroOptical/Date
            eln:
              component: DateTimeEditQuantity
        energy_gap:
          type: np.float64
          unit: eV
          description: FILL
          m_annotations:
            tabular:
              name: ElectroOptical/Energy Gap ABS
            eln:
              component: NumberEditQuantity
              defaultDisplayUnit: eV
        abs_coefficient:
          type: np.float64
          unit: 1 / cm
          description: FILL
          m_annotations:
            tabular:
              name: ElectroOptical/ABS coefficient
            eln:
              component: NumberEditQuantity
              defaultDisplayUnit: 1 / cm
        thickness:
          type: np.float64
          unit: nanometer
          description: Thickness from ABS
          m_annotations:
            tabular:
              name: ElectroOptical/Thickness
            eln:
              component: NumberEditQuantity
              defaultDisplayUnit: nanometer
    HallMeasurement:
      more:
        label_quantity: sample_id
      base_sections:
      - nomad.datamodel.metainfo.eln.Measurement
      - nomad.datamodel.data.EntryData
      m_annotations:
        eln:
      quantities:
        method:
          type: str
          default: "Hall (MOVPE CNR)"
        description:
          type: str
          description: "Notes and comments."
          m_annotations:
            eln:
              component: StringEditQuantity
              label: "Notes"
        sample_id:
          type: str
          default: '#data/adsorbance/sample_id'
          m_annotations:
            # tabular:
            #   name: ElectroOptical/Sample
            eln:
              component: StringEditQuantity
        datetime:
          type: Datetime
          default: '#data/adsorbance/datetime'
          m_annotations:
            tabular:
              name: ElectroOptical/Date
            eln:
              component: DateTimeEditQuantity
        resistivity:
          type: np.float64
          unit: ohm / cm
          description: FILL
          m_annotations:
            tabular:
              name: ElectroOptical/Resistivity
            eln:
              component: NumberEditQuantity
              defaultDisplayUnit: ohm / cm
        mobility:
          type: np.float64
          unit: cm**2 / volt / second
          description: FILL
          m_annotations:
            tabular:
              name: ElectroOptical/Mobility
            eln:
              component: NumberEditQuantity
              defaultDisplayUnit: cm**2 / volt / second
        carrier_concentration:
          type: np.float64
          unit: 1 / cm**3
          description: FILL
          m_annotations:
            tabular:
              name: ElectroOptical/Carrier Concentration
            eln:
              component: NumberEditQuantity
              defaultDisplayUnit: 1 / cm**3
        energy_gap_PC:
          type: np.float64
          unit: eV
          description: Photo current spectroscopy
          m_annotations:
            tabular:
              name: ElectroOptical/Energy Gap PC
            eln:
              component: NumberEditQuantity
              defaultDisplayUnit: eV
        responsivity:
          type: np.float64
          unit: ampere / watt
          description: FILL
          m_annotations:
            tabular:
              name: ElectroOptical/Responsivity
            eln:
              component: NumberEditQuantity
              defaultDisplayUnit: ampere / watt
        rejection_ratio:
          type: np.float64
          #unit:
          description: Rejection Ratio (250/400)
          m_annotations:
            tabular:
              name: ElectroOptical/Rejection Ratio
            eln:
              component: NumberEditQuantity
              #defaultDisplayUnit:
    HRXRDmeasurement:
      more:
        label_quantity: sample_id
      base_sections:
      - nomad.datamodel.metainfo.eln.Measurement
      - nomad.datamodel.data.EntryData
      m_annotations:
        eln:
      quantities:
        method:
          type: str
          default: "HRXRD (MOVPE CNR)"
        description:
          type: str
          description: "Notes and comments."
          m_annotations:
            eln:
              component: StringEditQuantity
              label: "Notes"
        sample_id:
          type: str
          m_annotations:
            tabular:
              name: HRXRD/Sample
            eln:
              component: StringEditQuantity
        datetime:
          type: Datetime
          m_annotations:
            tabular:
              name: HRXRD/Date
            eln:
              component: DateTimeEditQuantity
        phase:
          type: str
          description: Phase type obtained from HRXRD
          m_annotations:
            tabular:
              name: HRXRD/Phase
            eln:
              component: StringEditQuantity
        peak_position_2theta:
          type: np.float64
          unit: degree
          description: "Peak Position - 2theta"
          m_annotations:
            tabular:
              name: HRXRD/Peak Position - 2theta
            eln:
              component: NumberEditQuantity
              defaultDisplayUnit: degree
        peak_fwhm_2theta:
          type: np.float64
          unit: degree
          description: "Peak Position - 2theta"
          m_annotations:
            tabular:
              name: HRXRD/Peak FWHM - 2theta
            eln:
              component: NumberEditQuantity
              defaultDisplayUnit: degree
        peak_position_omega:
          type: np.float64
          unit: degree
          description: "Peak Position - Omega"
          m_annotations:
            tabular:
              name: HRXRD/Peak Position - Omega
            eln:
              component: NumberEditQuantity
              defaultDisplayUnit: degree
        peak_fwhm_rocking_curve:
          type: str
          description: Peak FWHM Rocking Curve
          m_annotations:
            tabular:
              name: HRXRD/Peak FWHM Rocking Curve
            eln:
              component: StringEditQuantity
        reflection:
          type: str
          description: Peak FWHM Rocking Curve
          m_annotations:
            tabular:
              name: HRXRD/Reflection
            eln:
              component: StringEditQuantity
    GrowthRunStep:
      base_sections:
      - nomad.datamodel.metainfo.basesections.ProcessStep
      m_annotations:
        eln:
          # hide: [descritpion]
      quantities:
        name:
          type: str
          description: what this step consists of
          m_annotations:
            tabular:
              name: GrowthRun/Name
            eln:
              component: StringEditQuantity
        elapsed_time:
          type: np.float64
          unit: minute
          description: Past time since process start
          m_annotations:
            tabular:
              name: GrowthRun/Duration
            eln:
              component: NumberEditQuantity #DateTimeEditQuantity
              defaultDisplayUnit: minute
        step_number:
          type: int
          description: sequential number of the step on going
          m_annotations:
            tabular:
              name: GrowthRun/Step
            eln:
              component: NumberEditQuantity
        temperature:
          type: np.float64
          unit: celsius
          description: FILL THE DESCRIPTION
          m_annotations:
            tabular:
              name: GrowthRun/Temperature
            eln:
              component: NumberEditQuantity
              defaultDisplayUnit: celsius
        pressure:
          type: np.float64
          unit: mbar
          description: FILL THE DESCRIPTION
          m_annotations:
            tabular:
              name: GrowthRun/Pressure
            eln:
              component: NumberEditQuantity
              defaultDisplayUnit: mbar
        flow_metal_carrier:
          type: np.float64
          unit: mbar
          description: FILL THE DESCRIPTION
          m_annotations:
            tabular:
              name: GrowthRun/Flow Metal Carrier
            eln:
              component: NumberEditQuantity
              defaultDisplayUnit: mbar
        metal_inner_valve:
          type: int
          description: inner valve (0-200)
          m_annotations:
            tabular:
              name: GrowthRun/Metal Inner Valve
            eln:
              component: SliderEditQuantity
              minValue: 0
              maxValue: 200
        metal_outer_valve:
          type: int
          description: outer valve (0-200)
          m_annotations:
            tabular:
              name: GrowthRun/Metal Outer Valve
            eln:
              component: SliderEditQuantity
              minValue: 0
              maxValue: 200
        flow_oxydant_carrier:
          type: np.float64
          unit: mbar
          description: FILL THE DESCRIPTION
          m_annotations:
            tabular:
              name: GrowthRun/Flow Oxydant Carrier
            eln:
              component: NumberEditQuantity
              defaultDisplayUnit: mbar
        oxydant_inner_valve:
          type: int
          description: inner valve (0-200)
          m_annotations:
            tabular:
              name: GrowthRun/Oxydant Inner Valve
            eln:
              component: SliderEditQuantity
              minValue: 0
              maxValue: 200
        oxydant_outer_valve:
          type: int
          description: outer valve (0-200)
          m_annotations:
            tabular:
              name: GrowthRun/Oxydant Outer Valve
            eln:
              component: SliderEditQuantity
              minValue: 0
              maxValue: 200
        purge_flow:
          type: np.float64
          unit: cm ** 3 / minute
          description: FILL THE DESCRIPTION
          m_annotations:
            tabular:
              name: GrowthRun/Purge Flow
            eln:
              component: NumberEditQuantity
              defaultDisplayUnit: cm ** 3 / minute
        uniform_valve:
          type: int
          description: inner valve (0-200)
          m_annotations:
            tabular:
              name: GrowthRun/Uniform Valve
            eln:
              component: SliderEditQuantity
              minValue: 0
              maxValue: 200
        purge_valve:
          type: int
          description: inner valve (0-200)
          m_annotations:
            tabular:
              name: GrowthRun/Purge Valve
            eln:
              component: SliderEditQuantity
              minValue: 0
              maxValue: 200
        notes:
          type: str
          description: FILL THE DESCRIPTION
          m_annotations:
            tabular:
              name: GrowthRun/Notes
            eln:
              component: StringEditQuantity
      sub_sections:
        bubblers:
          repeats: true
          section: '#/Bubbler'
        gas_sources:
          repeats: true
          section: '#/GasSource'
        mist_sources:
          repeats: true
          section: '#/MistSource'
    Bubbler:
      m_annotations:
        eln:
      more:
        label_quantity: material
      quantities:
        material:
          type: str
          description: FILL THE DESCRIPTION
          m_annotations:
            tabular:
              name: GrowthRun/Bubbler Material
            eln:
              component: StringEditQuantity
        dilution:
          type: np.float64
          unit: cm ** 3 / minute
          description: FILL THE DESCRIPTION
          m_annotations:
            tabular:
              name: GrowthRun/Bubbler Dilution
            eln:
              component: NumberEditQuantity
              defaultDisplayUnit: cm ** 3 / minute
        inject:
          type: np.float64
          unit: cm ** 3 / minute
          description: FILL THE DESCRIPTION
          m_annotations:
            tabular:
              name: GrowthRun/Inject
            eln:
              component: NumberEditQuantity
              defaultDisplayUnit: cm ** 3 / minute
        pressure:
          type: np.float64
          unit: mbar
          description: FILL THE DESCRIPTION
          m_annotations:
            tabular:
              name: GrowthRun/Bubbler Pressure
            eln:
              component: NumberEditQuantity
              defaultDisplayUnit: mbar
        temperature:
          type: np.float64
          unit: mbar
          description: FILL THE DESCRIPTION
          m_annotations:
            tabular:
              name: GrowthRun/Bubbler Temp
            eln:
              component: NumberEditQuantity
              defaultDisplayUnit: mbar
        partial_pressure:
          type: np.float64
          unit: mbar
          description: FILL THE DESCRIPTION
          m_annotations:
            tabular:
              name: GrowthRun/Partial Pressure
            # plot:
            #   x: duration
            #   y: TMG_partial_pressure
            eln:
              component: NumberEditQuantity
              defaultDisplayUnit: mbar
        flow_carrier:
          type: np.float64
          unit: cm ** 3 / minute
          description: FILL THE DESCRIPTION
          m_annotations:
            tabular:
              name: GrowthRun/Flow Carrier
            eln:
              component: NumberEditQuantity
              defaultDisplayUnit: cm ** 3 / minute
        valve:
          type: bool
          description: is valve open? true/false
          m_annotations:
            tabular:
              name: GrowthRun/Bubbler Valve
            eln:
              component: BoolEditQuantity
    GasSource:
      more:
        label_quantity: material
      quantities:
        material:
          type: str
          description: FILL THE DESCRIPTION
          m_annotations:
            tabular:
              name: GrowthRun/Gas Cylinder Material
            eln:
              component: StringEditQuantity
        dilution_in_cylinder:
          type: np.float64
          description: FILL THE DESCRIPTION
          m_annotations:
            tabular:
              name: GrowthRun/Dilution in Cylinder
            eln:
              component: NumberEditQuantity
        flow_from_mfc:
          type: np.float64
          unit: cm ** 3 / minute
          description: FILL THE DESCRIPTION
          m_annotations:
            tabular:
              name: GrowthRun/Flow from MFC
            eln:
              component: NumberEditQuantity
              defaultDisplayUnit: cm ** 3 / minute
        effective_flow:
          type: np.float64
          unit: cm ** 3 / minute
          description: FILL THE DESCRIPTION
          m_annotations:
            tabular:
              name: GrowthRun/Effective Flow
            eln:
              component: NumberEditQuantity
              defaultDisplayUnit: cm ** 3 / minute
        partial_pressure:
          type: np.float64
          unit: mbar
          description: FILL THE DESCRIPTION
          m_annotations:
            tabular:
              name: GrowthRun/Gas Partial Pressure
            # plot:
            #   x: duration
            #   y: TMG_partial_pressure
            eln:
              component: NumberEditQuantity
              defaultDisplayUnit: mbar
        cylinder_pressure:
          type: np.float64
          unit: mbar
          description: FILL THE DESCRIPTION
          m_annotations:
            tabular:
              name: GrowthRun/Cylinder Pressure
            eln:
              component: NumberEditQuantity
              defaultDisplayUnit: mbar
        valve:
          type: bool
          description: is valve open? true/false
          m_annotations:
            tabular:
              name: GrowthRun/Gas Valve
            eln:
              component: BoolEditQuantity
    MistSource:
      more:
        label_quantity: material
      quantities:
        material:
          type: str
          description: FILL THE DESCRIPTION
          m_annotations:
            tabular:
              name: GrowthRun/MIST Flow MFC
            eln:
              component: StringEditQuantity
        valve:
          type: bool
          description: is valve open? true/false
          m_annotations:
            tabular:
              name: GrowthRun/MIST Valve
            eln:
              component: BoolEditQuantity
    PreGrowths:
      base_sections:
      - nomad.datamodel.metainfo.basesections.SectionReference
      quantities:
        reference:
          type: '#/PreGrowth'
          description: 'A reference to a NOMAD `PreGrowth` entry.'
          m_annotations:
            eln:
              component: ReferenceEditQuantity
              label: 'PreGrowth Reference'
    PreGrowth:
      base_sections:
      - nomad.datamodel.metainfo.eln.Process
      - nomad.datamodel.data.EntryData
      m_annotations:
        eln:
      quantities:
        method:
          type: str
          default: "Pregrowth (MOVPE CNR)"
        description:
          type: str
          description: "Notes and comments."
          m_annotations:
            eln:
              component: StringEditQuantity
              label: "Notes"
      sub_sections:
        steps:
          repeats: true
          section: '#/PregrowthStep'
    PregrowthStep:
      base_sections:
      - nomad.datamodel.metainfo.basesections.ProcessStep
      m_annotations:
        eln:
          # hide: [descritpion]
      quantities:
        step_number:
          type: int
          description: sequential number of the step on going
          m_annotations:
            eln:
              component: NumberEditQuantity
            tabular:
              name: Pregrowth/Step Index
        name:
          type: str
          description: what this step consists of
          m_annotations:
            tabular:
              name: Pregrowth/Step Name
            eln:
              component: StringEditQuantity
        description:
          type: str
          description: "Notes and comments."
          m_annotations:
            tabular:
              name: Pregrowth/Description
            eln:
              component: StringEditQuantity
              label: "Notes"
        elapsed_time:
          type: np.float64
          unit: minute
          description: FILL
          m_annotations:
            eln:
              component: NumberEditQuantity
            tabular:
              name: Pregrowth/Duration
        carrier_gas_flow:
          type: np.float64
          unit: cm ** 3 / minute
          description: FILL
          m_annotations:
            eln:
              component: NumberEditQuantity
              defaultDisplayUnit: cm ** 3 / minute
            tabular:
              name: Pregrowth/Carrier Gas Flow
        # carrier_gas:
        #   type: str
        #   description: FILL
        #   m_annotations:
        #     tabular:
        #       name: Pregrowth/Carrier Gas
        #     eln:
        #       component: StringEditQuantity
        chamber_pressure:
          type: np.float64
          unit: mbar
          description: FILL
          m_annotations:
            eln:
              component: NumberEditQuantity
              defaultDisplayUnit: mbar
            tabular:
              name: Pregrowth/Chamber Pressure
        substrate_temperature:
          type: np.float64
          unit: celsius
          description: FILL
          m_annotations:
            eln:
              component: NumberEditQuantity
              defaultDisplayUnit: celsius
            tabular:
              name: Pregrowth/Substrate Temperature
        carrier_rotation:
          type: int
          unit: rpm
          description: FILL
          m_annotations:
            eln:
              component: NumberEditQuantity
              defaultDisplayUnit: rpm
            tabular:
              name: Pregrowth/Carrier Rotation
        notes:
          type: str
          description: FILL
          m_annotations:
            tabular:
              name: Pregrowth/Notes
            eln:
              component: StringEditQuantity
    Substrate:
      base_sections:
      - nomad.datamodel.metainfo.eln.CompositeSystem
      - nomad.datamodel.data.EntryData
      quantities:
        alias:
          type: str
          description: FILL
          m_annotations:
            eln:
              component: StringEditQuantity
            tabular:
              name: "Substrate/Substrate ID"
        description:
          type: str
          description: "Notes and comments."
          m_annotations:
            eln:
              component: StringEditQuantity
              label: "Notes"
        name:
          type: str
          description: FILL
          m_annotations:
            eln:
              component: StringEditQuantity
            tabular:
              name: Substrate/Material
        lab_id:
          type: str
          description: FILL
          m_annotations:
            eln:
              component: StringEditQuantity
            tabular:
              name: Substrate/Substrates
        supplier:
          type: str
          description: FILL
          m_annotations:
            eln:
              component: StringEditQuantity
            tabular:
              name: Substrate/Supplier
        element_list:
          type: str
          shape: ['*']
          description: The Elements and the corresponding isotope which are used in the Substrate.
          m_annotations:
            eln:
              component: StringEditQuantity
        orientation:
          type: str
          description: crystallographic orientation of the substrate in [hkl]
          m_annotations:
            eln:
              component: StringEditQuantity
            tabular:
              name: Substrate/Orientation
        off_cut:
          type: np.float64
          unit: degrees
          description: Off-cut angle to the substrates surface
          m_annotations:
            eln:
              component: NumberEditQuantity
            tabular:
              name: Substrate/Off-cut
        off_cut_orientation:
          type: str
          description: Off-cut orientation to the substrates surface
          m_annotations:
            eln:
              component: StringEditQuantity
            tabular:
              name: Substrate/Off-cut Orientation
        # bug
        # doping_level:
        #   type: np.float64
        #   #unit: wt %
        #   description: Chemical doping level of electrically conductive substrates
        #   m_annotations:
        #     eln:
        #       component: NumberEditQuantity
        #     tabular:
        #       name: Substrate/Doping Level
        doping_species:
          type: str
          description: Doping species to obtain electrical conductivity in the substrates
          m_annotations:
            eln:
              component: StringEditQuantity
            tabular:
              name: Substrate/Doping Species
        size_diameter:
          type: np.float64
          # unit: inch
          description: diameter
          m_annotations:
            eln:
              component: NumberEditQuantity
              # defaultDisplayUnit: inch
            tabular:
              name: Substrate/Size Diameter
        size_X:
          type: np.float64
          unit: millimeter
          description: X length
          m_annotations:
            eln:
              component: NumberEditQuantity
              defaultDisplayUnit: millimeter
            tabular:
              name: Substrate/Size X
        size_Y:
          type: np.float64
          unit: millimeter
          description: Y length
          m_annotations:
            eln:
              component: NumberEditQuantity
              defaultDisplayUnit: millimeter
            tabular:
              name: Substrate/Size Y
        susceptor:
          type: str
          description: FILL
          m_annotations:
            eln:
              component: StringEditQuantity
            tabular:
              name: Substrate/Susceptor
        mask:
          type: str
          description: FILL
          m_annotations:
            eln:
              component: StringEditQuantity
            tabular:
              name: Substrate/Mask
        pocket:
          type: str
          description: FILL
          m_annotations:
            eln:
              component: StringEditQuantity
            tabular:
              name: Substrate/Pocket
        annealing:
          type: bool
          description: Is the sample annealed?
          m_annotations:
            eln:
              component: BoolEditQuantity
            tabular:
              name: Substrate/Annealing
        cleaning:
          type: bool
          description: FILL
          m_annotations:
            eln:
              component: BoolEditQuantity
            tabular:
              name: Substrate/Cleaning
        regrowth:
          type: bool
          description: FILL
          m_annotations:
            eln:
              component: BoolEditQuantity
            tabular:
              name: Substrate/Regrowth
        documentation:
          type: str
          description: pdf files containing certificate and other documentation
          m_annotations:
            browser:
              adaptor: RawFileAdaptor  # Allows to navigate to files in the data browser
            eln:
              component: FileEditQuantity
        notes:
          type: str
          description: FILL
          m_annotations:
            eln:
              component: StringEditQuantity
    Substrates:
      base_sections:
      - nomad.datamodel.metainfo.basesections.CompositeSystemReference
      quantities:
        # lab_id:
        #   type: str
        #   description: the Substrate used for the growth
        #   m_annotations:
        #     tabular:
        #       name: GrowthRun/Substrate Name
        #     eln:
        #       component: StringEditQuantity
        #       label: "Substrate ID"
        # substrate_temperature:
        #   type: np.float64
        #   shape: [1]
        #   unit: celsius
        #   description: temperature of the substrate
        #   m_annotations:
        #     tabular:
        #       name: Overview/Substrate T
        #     eln:
        #       component: NumberEditQuantity
        #       defaultDisplayUnit: celsius
        reference:
          type: '#/Substrate'
          description: 'A reference to a NOMAD `Substrate` entry.'
          m_annotations:
            eln:
              component: ReferenceEditQuantity
              label: 'Substrate Reference'
    MISTs:
      base_sections:
      - nomad.datamodel.metainfo.basesections.EntityReference
      quantities:
        reference:
          type: '#/MIST'
          description: 'A reference to a NOMAD `MIST` entry.'
          m_annotations:
            eln:
              component: ReferenceEditQuantity
              label: 'MIST Reference'
    MIST:
      base_sections:
      - nomad.datamodel.metainfo.eln.Entity
      - nomad.datamodel.data.EntryData
      m_annotations:
        eln:
          # hide: [descritpion]
      quantities:
        description:
          type: str
          description: "Notes and comments."
          m_annotations:
            tabular:
              name: Mist/Notes
            eln:
              component: StringEditQuantity
              label: "Notes"
        item:
          type: str
          description: FILL
          m_annotations:
            tabular:
              name: Mist/Item
            eln:
              component: StringEditQuantity
        temperature:
          type: np.float64
          unit: celsius
          description: FILL
          m_annotations:
            eln:
              component: NumberEditQuantity
              defaultDisplayUnit: celsius
            tabular:
              name: Mist/Temperature
        time:
          type: np.float64
          unit: minute
          description: FILL
          m_annotations:
            eln:
              component: NumberEditQuantity
              defaultDisplayUnit: minute
            tabular:
              name: Mist/Time
      sub_sections:
        components:
          repeats: true
          section:
            quantities:
              material:
                type: str
                description: FILL
                m_annotations:
                  eln:
                    component: StringEditQuantity
                  tabular:
                    name: Mist/Material
              concentration:
                type: np.float64
                unit: mol / liter
                description: FILL
                m_annotations:
                  eln:
                    component: NumberEditQuantity
                    defaultDisplayUnit: mol / liter
                  tabular:
                    name: Mist/Concentration
    SampleCut:
      base_sections:
      - nomad.datamodel.metainfo.eln.Process
      - nomad.datamodel.data.EntryData
      m_annotations:
        eln:
      quantities:
        method:
          type: str
          default: "Sample Cut (MOVPE CNR)"
        description:
          type: str
          description: "Notes and comments."
          m_annotations:
            eln:
              component: StringEditQuantity
              label: "Notes"
        image:
          type: str
          shape: ['*']
          description: image showing the sample cut geometry
          m_annotations:
            browser:
              adaptor: RawFileAdaptor
            eln:
              component: FileEditQuantity
        parent_sample_id:
          type: str
          description: FILL
          m_annotations:
            tabular:
              name: SampleCut/Parent Sample ID
            eln:
              component: StringEditQuantity
        children_sample_id:
          type: str
          description: FILL
          m_annotations:
            tabular:
              name: SampleCut/Children Sample ID
            eln:
              component: StringEditQuantity
        cut_date:
          type: Datetime
          description: FILL
          m_annotations:
            tabular:
              name: SampleCut/Cut Date
            eln:
              component: DateTimeEditQuantity
        position:
          type: str
          description: FILL
          m_annotations:
            tabular:
              name: SampleCut/Position
            eln:
              component: StringEditQuantity
        purpose:
          type: str
          description: FILL
          m_annotations:
            tabular:
              name: SampleCut/Experiment
            eln:
              component: StringEditQuantity
        size:
          type: np.float64
          unit: millimeter ** 2
          description: FILL
          m_annotations:
            eln:
              component: NumberEditQuantity
              defaultDisplayUnit: millimeter ** 2
            tabular:
              name: SampleCut/Size
        collaborator:
          type: str
          description: FILL
          m_annotations:
            tabular:
              name: SampleCut/Collaborator
            eln:
              component: StringEditQuantity
    ContactSputtering:
      m_annotations:
        eln:
      base_sections:
      - nomad.datamodel.metainfo.eln.Process
      - nomad.datamodel.data.EntryData
      quantities:
        method:
          type: str
          default: "Contacts Sputtering (MOVPE CNR)"
        description:
          type: str
          description: "Notes and comments."
          m_annotations:
            eln:
              component: StringEditQuantity
              label: "Notes"
        name:
          type: str
          description: FILL
          m_annotations:
            tabular:
              name: Contacts/Sample Piece
            eln:
              component: StringEditQuantity
        datetime:
          type: Datetime
          description: FILL
          m_annotations:
            tabular:
              name: Contacts/Deposition Date
            eln:
              component: DateTimeEditQuantity
              label: deposition_date
        contact_type:
          type: str
          description: FILL
          m_annotations:
            tabular:
              name: Contacts/Contact Type
            eln:
              component: StringEditQuantity
        contact_geometry:
          type: str
          description: FILL
          m_annotations:
            tabular:
              name: Contacts/Geometry
            eln:
              component: StringEditQuantity
