definitions:
  name: 'Electronic Lab Notebook' 
  sections:  # Schemas consist of section definitions
    MeltCzochralski:  
      # Inheriting it from EntryData, makes this section a possible
      # EntryArchive.data sub-section
      base_section: nomad.datamodel.data.EntryData
      m_annotations:
        eln:
          dict()
      sub_sections:
        users:
          section:
            quantities:
              user:
                type: User
                shape: ['*']
                m_annotations:
                  eln:
                    component: AuthorEditQuantity
        instrument:
          section:
            m_annotations:
              eln:
                dict()
            sub_sections:
              furnace:
                section:
                  quantities:
                    furnace_type:
                      type: str
                      description: "Furnace description"
                      m_annotations:
                        eln:
                          component: StringEditQuantity
              heating:
                section:
                  quantities:
                    heater_type:
                      type:
                        type_kind: Enum
                        type_data:
                          - Resistance
                          - Inductor
                      m_annotations:
                        eln:
                          component: EnumEditQuantity
                    heater_id:
                      type: str
                      description: "Inductor or resistance heater name or ID"
                      m_annotations:
                        eln:
                          component: StringEditQuantity
              sensors:
                section:
                  m_annotation:
                    eln:
                    # plot:
                    #   title: Sensors for growth monitoring
                    #   x: time
                    #   y: 
                    #     - TE_1_front
                    #     - TE_2_vessel
                  quantities:
                    sensors_locations:
                      type: str
                      description: Picture of sensor locations
                      m_annotations:
                        browser:
                          adaptor: RawFileAdaptor  # Allows to navigate to files in the data browser
                        eln:
                          component: FileEditQuantity
                    sensors_list:
                      type: ../upload/raw/Sensors.archive.yaml#Sensors_list
                      #shape: ['*']
        data_processing:
          section:
            quantities:
              multimeter:
                type: str
                m_annotations:
                  eln:
                    component: StringEditQuantity
                description: "Multimeter used for data logging"
              software:
                type: str
                m_annotations:
                  eln:
                    component: StringEditQuantity
                description: "Software used for logging"
              sampling_time:
                type: np.float64
                unit: ms
                m_annotations:
                  eln:
                    component: NumberEditQuantity
                    defaultDisplayUnit: ms
                description: "Time between sampled points"
        process:
          section:
            #m_annotations:
            #  eln:
            quantities:
              experiment_identifier:
                type: str
                m_annotations:
                  eln:
                    component: StringEditQuantity
              experiment_location:
                type: str
                m_annotations:
                  #tabular:
                  #  name: Overview/Start Time
                  eln:
                    component: StringEditQuantity
              start_time:
                type: Datetime
                m_annotations:
                  #tabular:
                  #  name: Overview/Start Time
                  eln:
                    component: DateTimeEditQuantity
              end_time:
                type: Datetime
                m_annotations:
                  #tabular:
                  #  name: Overview/Start Time
                  eln:
                    component: DateTimeEditQuantity
              process_category:
                type: str
                m_annotations:
                  #tabular:
                  #  name: Overview/Start Time
                  eln:
                    component: StringEditQuantity
              process_method:
                type: str
                m_annotations:
                  #tabular:
                  #  name: Overview/Start Time
                  eln:
                    component: StringEditQuantity
            sub_sections:
              process_steps:
                repeats: true
                section:
                  # repeats: true
                  # base_section: nomad.parsing.tabular.TableData
                  #m_annotations:
                  #  eln:
                  quantities:
                    process_type:
                      type:
                        type_kind: Enum
                        type_data:
                          - Pre-process
                          - Process
                          - Post-process
                          - Measurement
                          - Storage
                      m_annotations:
                        eln:
                          component: EnumEditQuantity
                    step_duration:
                      type: np.float64
                      unit: minute
                      shape: ['*']
                      description: Past time since process start
                      m_annotations:
                        #tabular:
                        #  name: Processdata/Duration
                        eln:
                          component: NumberEditQuantity #DateTimeEditQuantity
                        #  defaultDisplayUnit: minute
                    elapsed_time:
                      type: np.float64
                      unit: minute
                      shape: ['*']
                      description: Duration of each step
                      m_annotations:
                        #tabular:
                        #  name: Processdata/Timestamp
                        #  unit: minute
                        eln:
                          component: NumberEditQuantity
                        #   defaultDisplayUnit: minute
                    step_number:
                      type: int
                      shape: ['*']
                      description: sequential number of the step on going
                      m_annotations:
                        #tabular:
                        #  name: Processdata/Step
                        eln:
                          component: NumberEditQuantity
                    step_title: 
                      type: str
                      shape: ['*']
                      description: what this step consists of
                      m_annotations:
                        #tabular:
                        #  name: Processdata/Reason
                        eln:
                          component: StringEditQuantity
                    step_comment:
                      type: str
                      shape: ['*']
                      description: more verbose description of the step
                      m_annotations:
                        #tabular:
                        #  name: Processdata/Description
                        eln:
                          component: StringEditQuantity 
                    step_annotation:
                      type: str
                      shape: ['*']
                      description: final remarks on the step
                      m_annotations:
                        #tabular:
                        #  name: Processdata/Annotations
                        eln:
                          component: StringEditQuantity 
                    crystal_diameter:
                      type: str
                      m_annotations:
                        eln:
                          component: StringEditQuantity
                    fan:
                      type: str
                      m_annotations:
                        eln:
                          component: StringEditQuantity
                    pump:
                      type: str
                      m_annotations:
                        eln:
                          component: StringEditQuantity
                    sensors:
                      type: str
                      m_annotations:
                        eln:
                          component: StringEditQuantity