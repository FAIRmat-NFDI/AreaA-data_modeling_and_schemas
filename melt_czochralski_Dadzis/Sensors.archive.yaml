definitions:
  name: 'Sensors'
  sections:
    Sensors_list:
      base_sections:
      - nomad.parsing.tabular.TableData
      - nomad.datamodel.data.EntryData
      m_annotations:
        plot:
          - label: My test plot label 1
            x: value_timestamp_rel
            y: 
              - temperature_sensor_1/value_log
              - pyrosensor_2/value_log
          - label: My test plot label 2
            x: value_timestamp_rel
            y: 
              - pyrosensor_2/value_log
      quantities:
        data_file:
          type: str
          description: |
            A reference to an uploaded .csv
          m_annotations:
            tabular_parser:
              sep: ','
              comment: '#'
            browser:
              adaptor: RawFileAdaptor
            eln:
              component: FileEditQuantity
        value_timestamp_rel: 
          type: np.float64
          shape: ['*']
          m_annotations:
            tabular:
              name: time_rel
          description: Relative time
        value_timestamp_abs:
          type: Datetime
          shape: ['*']
          m_annotations:
            tabular:
              name: time_abs
          description: |
            Timestamp for when the values provided in the value field were registered.
            Individual readings can be stored with their timestamps under value_log.
            This is to timestamp the nominal setpoint or
            average reading values listed above in the value field.
      sub_sections:
        temperature_sensor_1:
          section:
            m_annotations:
              plot:
                - label: My test plot label 1
                  x: value_timestamp_rel
                  y: value_log
            base_section: ../upload/raw/base_classes/sensor_0-0-1.schema.archive.yaml#Sensor  
            quantities:
              value_log:  # The one we actually measure
                type: np.float64  # TODO try if that can be removed, it's already present in parent class
                shape: ['*']
                m_annotations:
                  tabular:
                    name: TE_1_K air 155 mm over crucible
                description: Time history of sensor readings. May differ from setpoint
              value_timestamp_rel: 
                type:                   
                  type_kind: quantity_reference
                  type_data: '#/definitions/section_definitions/0/quantities/1'
              value_timestamp_abs:
                type:                   
                  type_kind: quantity_reference
                  type_data: '#/definitions/section_definitions/0/quantities/2'
        pyrosensor_2:
          section:
            m_annotations:
              plot:
                - label: My test plot label 1
                  x: value_timestamp_rel
                  y: value_log
            base_section: ../upload/raw/base_classes/sensor_0-0-1.schema.archive.yaml#Sensor  
            quantities:
              emission:
                type: int
                m_annotations:
                  eln:
                    component: NumberEditQuantity
                description: "Emission percentage value set in pyrometer"
              transmission:
                type: int
                m_annotations:
                  eln:
                    component: NumberEditQuantity
                description: "Transmission percentage value set in pyrometer"
              t90:
                type: np.float64
                description: "FILL THE DESCRIPTION"
                unit: second
                m_annotations:
                  eln:
                    component: NumberEditQuantity
                    defaultDisplayUnit: second
              value_log:
                type: np.float64
                shape: ['*']
                m_annotations:
                  tabular:
                    name: my_header_4
                description: Time history of sensor readings. May differ from setpoint
              value_timestamp_rel: 
                type:                   
                  type_kind: quantity_reference
                  type_data: '#/definitions/section_definitions/0/quantities/1'
              value_timestamp_abs:
                type:                   
                  type_kind: quantity_reference
                  type_data: '#/definitions/section_definitions/0/quantities/2'
        # KEEP LISTING HERE SCHEMES FOR ALL THE SENSORS YOU HAVE
data:
  m_def: Sensors_list
  data_file: test.csv
  temperature_sensor_1:
    model: your_field_here
    name: your_field_here
    sensor_id: your_field_here
    attached_to: your_field_here
    measured_property: your_field_here
    type: your_field_here
    notes: "TE_1_K air 155 mm over crucible"
    value_timestamp_rel: '#/data/value_timestamp_rel'
    value_timestamp_abs: '#/data/value_timestamp_abs'
  pyrosensor_2:
    model: your_field_here
    name: your_field_here
    sensor_id: your_field_here
    attached_to: your_field_here
    measured_property: your_field_here
    type: your_field_here
    emission: 1
    transmission: 1
    t90: 0.1
    value_timestamp_rel: '#/data/value_timestamp_rel'
    value_timestamp_abs: '#/data/value_timestamp_abs'
  # KEEP LISTING HERE DATA FOR ALL THE SENSORS YOU HAVE