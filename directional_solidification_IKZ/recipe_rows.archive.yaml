data:
  m_def: Recipe_dir_sol
  data_file: G1_IKZ_NSI_23.xlsx
definitions:
  name: 'Recipe from Directional Solidification'
  sections:
    Recipe_dir_sol:
      base_sections: 
      - ../upload/raw/base_classes.schema.archive.yaml#Procedure_step
      -  nomad.parsing.tabular.TableData
      m_annotations:
        plot:
        - label: My_custom_plot_label
          x: step_number
          y:     
            - ./mysub/h1_soll_p
          lines:
          - mode: lines
            line:
              color: rgb(50, 138, 46)
      quantities:
        data_file:
          type: str
          description: |
            A reference to an uploaded .xlsx
          m_annotations:
            tabular_parser:
              # sep: ';'
              comment: '#'
              mode: row
              target_sub_section: 
               - mysub
            browser:
              adaptor: RawFileAdaptor  # Allows to navigate to files in the data browser
            eln:
              component: FileEditQuantity  # A form field that allows to drop and select files.
      sub_sections:
        mysub:
          repeats: true
          section:
            quantities:
              timestamp:
                type: Datetime
                # shape: ['*']
                description: "FILL THE DESCRIPTION"
                # unit:
                # m_annotations:
                #   tabular:
                #     name: "T Ist H1 Time"
              duration:
                type: Datetime
                #shape: ['*']
                description: "FILL THE DESCRIPTION"
                # unit:
                m_annotations:
                  tabular:
                    name: "Duration"
              step_number:
                type: int
                #shape: ['*']
                description: "FILL THE DESCRIPTION"
                # unit:
                m_annotations:
                  tabular:
                    name: "Schritt"
              h1_soll_p:
                type: np.float64
                #shape: ['*']
                description: "FILL THE DESCRIPTION"
                # unit:
                m_annotations:
                  tabular:
                    name: "Tabelle1/H1"
                  plot:
                    label: My label
                    x: step_number
                    y: ./h1_soll_p